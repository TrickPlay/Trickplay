Index: clutter-1.6.18/clutter/egl/clutter-backend-egl.c
===================================================================
--- clutter-1.6.18.orig/clutter/egl/clutter-backend-egl.c	2012-01-26 16:22:38.778919970 -0800
+++ clutter-1.6.18/clutter/egl/clutter-backend-egl.c	2012-01-26 16:22:42.014919989 -0800
@@ -280,9 +280,8 @@
           goto fail;
         }
 
-#ifdef COGL_HAS_XLIB_SUPPORT
       backend_egl->egl_config = config;
-#endif
+
       CLUTTER_NOTE (GL, "Created EGL Context");
     }
 
@@ -921,3 +920,15 @@
 
   return backend_singleton->edpy;
 }
+
+EGLConfig
+clutter_egl_get_egl_config (void)
+{
+  if (backend_singleton == NULL)
+    {
+      g_critical ("%s has been called before clutter_init()", G_STRFUNC);
+      return 0;
+    }
+
+  return backend_singleton->egl_config;
+}
Index: clutter-1.6.18/clutter/egl/clutter-backend-egl.h
===================================================================
--- clutter-1.6.18.orig/clutter/egl/clutter-backend-egl.h	2012-01-26 16:22:30.278919965 -0800
+++ clutter-1.6.18/clutter/egl/clutter-backend-egl.h	2012-01-26 16:22:42.014919989 -0800
@@ -85,7 +85,6 @@
   /* EGL Specific */
   EGLDisplay edpy;
   EGLContext egl_context;
-  EGLConfig  egl_config;
 
   Window     dummy_xwin;
   EGLSurface dummy_surface;
@@ -98,6 +97,7 @@
   EGLDisplay edpy;
   EGLSurface egl_surface;
   EGLContext egl_context;
+  EGLConfig  egl_config;
 
   /* from the backend */
   gint surface_width;
Index: clutter-1.6.18/clutter/egl/clutter-egl.h
===================================================================
--- clutter-1.6.18.orig/clutter/egl/clutter-egl.h	2012-01-26 16:22:30.258919965 -0800
+++ clutter-1.6.18/clutter/egl/clutter-egl.h	2012-01-26 16:22:42.014919989 -0800
@@ -87,6 +87,8 @@
  */
 EGLDisplay      clutter_egl_get_egl_display     (void);
 
+EGLConfig       clutter_egl_get_egl_config      (void);
+
 G_END_DECLS
 
 #endif /* __CLUTTER_EGL_H__ */
